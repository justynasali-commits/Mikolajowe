# -*- coding: utf-8 -*-
"""mikolaj.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1edBHQfNWeh9YII_vIkBRZV7ltOeX6Enc
"""

import matplotlib.pyplot as plt
import matplotlib.patches as patches
import streamlit as st

def generuj_figur_mikolaja_z_workiem():
    """
    Generuje i zwraca obiekt Figure (figur) stylizowanego rysunku
    witego Mikoaja z rkami i workiem na prezenty, za pomoc Matplotlib.

    Zwraca:
        matplotlib.figure.Figure: Obiekt figury Matplotlib.
    """

    # 1. Konfiguracja wykresu
    # U偶ywamy plt.figure() zamiast plt.subplots(), aby figury Matplotlib
    # dziaay optymalnie ze st.pyplot w Streamlit.
    fig = plt.figure(figsize=(7, 8))
    ax = fig.add_subplot(111)

    # Ustawiamy limity osi i wyczamy ich wywietlanie
    ax.set_xlim(-1.5, 1.5)
    ax.set_ylim(-1.5, 1.5)
    ax.set_aspect('equal')
    ax.axis('off')

    # Kolory
    Czerwien_Mikoaja = '#C00000'
    Kolor_Sk贸ry = '#FFDBB4'
    Biay_Brody = 'white'
    Zoty_Klamry = '#FFD700'
    Ziele_Worka = '#006400'

    # --- 2. Rysowanie ciaa i gowy ---

    # Ciao (czerwony owal)
    czerwony_korpus = patches.Ellipse(
        (0, -0.4),  # rodek
        0.9,        # Szeroko
        1.0,        # Wysoko
        color=Czerwien_Mikoaja,
        alpha=0.9,
        zorder=1
    )
    ax.add_patch(czerwony_korpus)

    # Gowa (sk贸ra)
    skora_glowa = patches.Circle(
        (0, 0.45), # rodek
        0.25,      # Promie
        color=Kolor_Sk贸ry,
        zorder=2
    )
    ax.add_patch(skora_glowa)

    # --- 3. Czapka ---

    # Czapka (czerwony sto偶ek)
    czapka_czerwona = patches.Polygon(
        [(-0.30, 0.55), (0.30, 0.55), (0, 1.25)],
        color=Czerwien_Mikoaja,
        zorder=3
    )
    ax.add_patch(czapka_czerwona)

    # Czapka - futrzany brzeg (biay prostokt)
    brzeg_czapki = patches.Rectangle(
        (-0.35, 0.50),
        0.7,
        0.1,
        color=Biay_Brody,
        zorder=4
    )
    ax.add_patch(brzeg_czapki)

    # Czapka - pompon (biae koo)
    pompon = patches.Circle(
        (0, 1.25),
        0.08,
        color=Biay_Brody,
        zorder=5
    )
    ax.add_patch(pompon)

    # --- 4. Broda i Twarz ---

    # Broda (du偶y biay owal)
    broda = patches.Ellipse(
        (0, 0.15),
        0.5,
        0.6,
        color=Biay_Brody,
        zorder=5
    )
    ax.add_patch(broda)

    # Nos (mniejszy czerwony okrg)
    nos = patches.Circle(
        (0, 0.38),
        0.06,
        color='red',
        zorder=6
    )
    ax.add_patch(nos)

    # Oczy (mae czarne kropki)
    lewe_oko = patches.Circle((-0.12, 0.48), 0.03, color='black', zorder=7)
    prawe_oko = patches.Circle((0.12, 0.48), 0.03, color='black', zorder=7)
    ax.add_patch(lewe_oko)
    ax.add_patch(prawe_oko)

    # --- 5. Pas ---

    # Pas (czarny prostokt)
    pas = patches.Rectangle(
        (-0.45, -0.05),
        0.9,
        0.15,
        color='black',
        zorder=6
    )
    ax.add_patch(pas)

    # Klamra pasa (偶贸ty/zoty kwadrat)
    klamra = patches.Rectangle(
        (-0.12, -0.025),
        0.24,
        0.1,
        color=Zoty_Klamry,
        zorder=7
    )
    ax.add_patch(klamra)

    # --- 6. Rce i Worek ---

    # Rka Prawa (po lewej stronie wizualnie)
    prawy_rkaw = patches.Rectangle(
        (-0.9, -0.5),
        0.3,
        0.2,
        angle=45,
        color=Czerwien_Mikoaja,
        zorder=2
    )
    ax.add_patch(prawy_rkaw)

    prawy_man偶et = patches.Rectangle(
        (-0.7, -0.3),
        0.15,
        0.1,
        angle=45,
        color=Biay_Brody,
        zorder=3
    )
    ax.add_patch(prawy_man偶et)

    prawa_rkawica = patches.Ellipse(
        (-0.55, -0.15),
        0.2,
        0.2,
        color=Biay_Brody,
        zorder=4
    )
    ax.add_patch(prawa_rkawica)


    # Rka Lewa (po prawej stronie wizualnie, trzyma worek)
    lewy_rkaw = patches.Rectangle(
        (0.6, -0.4),
        0.3,
        0.2,
        angle=-45,
        color=Czerwien_Mikoaja,
        zorder=2
    )
    ax.add_patch(lewy_rkaw)

    lewy_man偶et = patches.Rectangle(
        (0.7, -0.45),
        0.15,
        0.1,
        angle=-45,
        color=Biay_Brody,
        zorder=3
    )
    ax.add_patch(lewy_man偶et)

    lewa_rkawica = patches.Ellipse(
        (0.85, -0.55),
        0.2,
        0.2,
        color=Biay_Brody,
        zorder=4
    )
    ax.add_patch(lewa_rkawica)

    # Worek na Prezenty
    worek = patches.Ellipse(
        (0.8, -0.8),
        0.5,
        0.8,
        angle=-10,
        color=Ziele_Worka,
        zorder=1
    )
    ax.add_patch(worek)

    # G贸ra worka/Sznurek
    gora_worka = patches.Rectangle(
        (0.6, -0.65),
        0.4,
        0.08,
        angle=-10,
        color=Zoty_Klamry,
        zorder=2
    )
    ax.add_patch(gora_worka)


    ax.set_title("wity Mikoaj z Workiem (Matplotlib)", fontsize=16)

    return fig

# --- G贸wna funkcja Streamlit ---

def main():
    """
    G贸wna funkcja aplikacji Streamlit.
    """
    st.title(" Generator witego Mikoaja")
    st.write("Wizualizacja Mikoaja wykonana z u偶yciem biblioteki Matplotlib w aplikacji Streamlit.")

    # Wywoanie funkcji generujcej figur
    figura_mikolaja = generuj_figur_mikolaja_z_workiem()

    # Wywietlenie figury Matplotlib za pomoc Streamlit
    st.pyplot(figura_mikolaja)

if __name__ == "__main__":
    main()